# This is the main Gerrit configuration. If you make changes to this
# file, rerun `ansible-playbook -i hosts baserock_gerrit/instance-config.yml`
# to deploy them to production.

[gerrit]
	basePath = git
	canonicalWebUrl = http://gerrit.baserock.org/
[database]
	type = mysql
	hostname = 192.168.222.30
	database = gerrit
	username = gerrit
[index]
	type = LUCENE
[auth]
	type = OPENID_SSO
	allowedOpenID = http://openid.baserock.org/
	trustedOpenID = http://openid.baserock.org/
	# XRDS is a mechanism for saying 'here are the services I provide'. Gerrit
	# expects the URL provided here to describe the OpenID provider service
	# using XRDS.
	openIdSsoUrl = http://openid.baserock.org/openid/xrds/
[sendemail]
	smtpServer = 192.168.222.111
	# Send mails as '${user} (Code Review) <gerrit.baserock.org>'
	# The gerrit@baserock.org email comes from the user.email setting
	# below
	from = MIXED
[user]
	name = Baserock Gerrit
	email = gerrit@baserock.org
[sshd]
	listenAddress = *:29418
[httpd]
	listenUrl = http://*:8080/
[cache]
	directory = cache
[user]
	email = "gerrit@baserock.org"

# It seems like a bad idea to enable remote administration of plugins, but
# there is absolutely no information available on how to do 'local'
# administration of Gerrit plugins, so we can't really avoid it.
[plugins]
	allowRemoteAdmin = true
